<div class="card" >
  <div class="row">
    <div class="col-md-12">
      <ngb-tabset>
        <ngb-tab title="Inventory">
          <ng-template ngbTabContent>
            <div class="row" style="display: none;"  >
              <div class="col card">
                <h4>TOTAL STOCK:</h4>
                <p class="count">{{total_stock}}</p>
              </div>
              <div class="col card">
                <h4>ADD STOCK:</h4>
                <p class="count d-flex mt-4"><input type="number" class="form-control" #addStocks /><i class="fa fa-plus text-success" (click)="addStock(addStocks)" aria-hidden="true"></i></p>
              </div>
              <div class="col card">
                <h4>REMOVE STOCK:</h4>
                <p class="count d-flex mt-4"><input type="number" class="form-control" #minusStock /><i class="fa fa-minus text-danger" (click)="removeStock(minusStock)" aria-hidden="true"></i></p>
              </div>
            </div>
            <div class="form-inline col-md-5">
              <input
                type='text'
                class="pull-left"
                style='padding: 5px; margin: 10px 15px 10px 0px; width: 56%;'
                placeholder='Type to filter the name column...'
                (keyup)='updateFilter($event)'
              />
              <select class="form-control pull-left mr-3"  (change)='statusFilter($event)'>
                <option value="Available">Available</option>
                <option value="reserved">Reserved</option>
                <option value="started">Started</option>
                <option value="archived">Archived</option>
              </select>
              <label class="mt-3 mb-3"> Tags <i class="fa fa-plus-square tagBtn" [ngbPopover]="popContent"  #p="ngbPopover" placement="right" ></i>
                <div class="tag">
                  <a class="delete-tag icon-cross" ></a>
                  <span >jkjk</span>
                </div>
                <div class="tag">
                    <a class="delete-tag icon-cross" ></a>
                    <span >jkjk</span>
                  </div>
                  <div class="tag">
                      <a class="delete-tag icon-cross" ></a>
                      <span >jkjk</span>
                    </div>
              </label>
              <h6>Humphrey Curtis</h6>
              <p>Change the view date to the previous view. For example Change the view date to the previous view. For example: Change the view date to the previous view. For example::</p>
              <ng-template #popContent>
                  <div class="form-inline">
                    <div class="form-group col-sm-9">
                      <label for="inputPassword2" class="sr-only">Add Tag</label>
                      <input type="password" class="form-control" id="inputPassword2" placeholder="Password">
                    </div>
                    <button type="submit" class="btn btn-primary col-sm-3" (click)="p.close();">Add</button>
                  </div>
              </ng-template>
              
            </div>
              <button class="btn btn-primary pull-right" (click)="addNewItem()">Add Stock Item</button>
              <ngx-datatable 
                class="material"
                [columnMode]="'force'"
                [headerHeight]="40"
                [footerHeight]="40"
                [rowHeight]="'auto'"
                [rows]="rows">
              
                <ngx-datatable-column name="Identifier" prop="identifier">
                  <ng-template let-value="value"  let-rowIndex="rowIndex" ngx-datatable-cell-template>
                    <span
                      *ngIf="!editing[rowIndex + '-identifier']">
                      {{value}}
                    </span>
                    <input
                      autofocus
                      class="form-control"
                      *ngIf="editing[rowIndex + '-identifier']"
                      type="text"
                      [value]="value"
                    />
                  </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Status" >
                  <ng-template let-rowIndex="rowIndex" let-value="value" ngx-datatable-cell-template>
                      <i class="fa fa-circle f12 {{value}}"  aria-hidden="true"></i> {{value}}
                  </ng-template>
                </ngx-datatable-column>
               
                <ngx-datatable-column name="Edit" >
                  <ng-template let-value="value"  let-rowIndex="rowIndex"  ngx-datatable-cell-template>
                      <span  class="fa fa-edit text-primary cursor-pointer" *ngIf="!editing[rowIndex + '-identifier']" (click)="rowEditMode(rowIndex,true)"></span>
                     <div class="row" *ngIf="editing[rowIndex + '-identifier']">
                      <button class="btn mr-1 cursor-pointer" (click)="rowEditMode(rowIndex,false)">Cancel</button>
                      <button class="btn btn-primary cursor-pointer" (click)="updateValue(rowIndex )">Save</button>
                    </div> 
                  </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Delete" >
                  <ng-template let-value="value"  ngx-datatable-cell-template>
                    <button   (click)="deleteProject()" class="transparentbtn"><i class="fa fa-trash text-primary cursor-pointer"></i></button>
                  </ng-template>
                </ngx-datatable-column>
              </ngx-datatable>
          </ng-template>
        </ngb-tab>
        <ngb-tab>
          <ng-template ngbTabTitle>Setting</ng-template>
          <ng-template ngbTabContent>
            <div class="row">
              <form class="p-3">
                <div class="form-group">
                  <label for="exampleInputEmail1">Name</label>
                  <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
                  <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Description </label>
                  <textarea type="text" class="form-control" id="exampleInputPassword1" placeholder="Password"> </textarea>
                </div>
                <div class="form-row align-items-center">
                  <div class="form-group mr-4">
                    <label for="disabledSelect">Category </label>
                    <select class="form-control">
                      <option>Project 1</option>
                      <option>Project 2</option>
                      <option>Project 3</option>
                      <option>Project 4</option>
                    </select>
                    
                  </div>
                  <div class="form-group">
                    <label for="disabledSelect">Branch </label>
                    <select class="form-control" >
                      <option>Group 1</option>
                      <option>Group 2</option>
                      <option>Group 3</option>
                      <option>Group 4</option>
                    </select>
                  </div>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab>
          <ng-template ngbTabTitle>Pricing</ng-template>
          <ng-template ngbTabContent>
            <div class="row">
              <div class="d-flex flex-column col-md-4">
                <label for="basic-url">Price/hour</label>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">$</span>
                  </div>
                  <input type="text" class="form-control" placeholder="Price/hour" aria-label="Username" aria-describedby="basic-addon1">
                </div>

                <label for="basic-url">Price/day</label>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="basic-addon1">$</span>
                    </div>
                    <input type="text" class="form-control" placeholder="Price/day" aria-label="Username" aria-describedby="basic-addon1">
                  </div>

                  <label for="basic-url">Price/Weekly</label>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="basic-addon1">$</span>
                    </div>
                    <input type="text" class="form-control" placeholder="Price/Weekly" aria-label="Username" aria-describedby="basic-addon1">
                  </div>
              </div>
              <div class="d-flex flex-column col-md-4">
                  
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab>
            <ng-template ngbTabTitle>Calendar</ng-template>
            <ng-template ngbTabContent>
              <div class="row">
                <div class="d-flex flex-column col-md-12">
                    <div class="row text-center">
                        <div class="col-md-4">
                          <div class="btn-group">
                            <div
                              class="btn btn-primary"
                              mwlCalendarPreviousView
                              [view]="view"
                              [(viewDate)]="viewDate"
                              (viewDateChange)="activeDayIsOpen = false">
                              Previous
                            </div>
                            <div
                              class="btn btn-outline-secondary"
                              mwlCalendarToday
                              [(viewDate)]="viewDate">
                              Today
                            </div>
                            <div
                              class="btn btn-primary"
                              mwlCalendarNextView
                              [view]="view"
                              [(viewDate)]="viewDate"
                              (viewDateChange)="activeDayIsOpen = false">
                              Next
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <h3>{{ viewDate | date }}</h3>
                        </div>
                        <div class="col-md-4">
                          
                        </div>
                      </div>
                      
                      
                      <ng-template #customCellTemplate let-day="day" let-locale="locale">
                        <div class="cal-cell-top">
                          <span class="cal-day-badge" *ngIf="day.badgeTotal > 0">{{ day.badgeTotal }}</span>
                          <span class="cal-day-number">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
                        </div>
                        <small style="margin: 5px" *ngIf="day.events.length>0" >Price/Day :  ${{ day.events[0].title.split('|')[0] }}</small>
                        <small style="margin: 5px" *ngIf="day.events.length>0" >Price/Hour :  ${{ day.events[0].title.split('|')[1] }}</small>
                      </ng-template>
                      
                      <div [ngSwitch]="view">
                        <mwl-calendar-month-view
                          *ngSwitchCase="'month'"
                          [viewDate]="viewDate"
                          [events]="events"
                          [refresh]="refresh"
                          [activeDayIsOpen]="activeDayIsOpen"
                          (dayClicked)="dayClicked($event.day)"
                          (eventClicked)="handleEvent('Clicked', $event.event)"
                          (eventTimesChanged)="eventTimesChanged($event)"
                          [cellTemplate]="customCellTemplate">
                        </mwl-calendar-month-view>
                        <mwl-calendar-week-view
                          *ngSwitchCase="'week'"
                          [viewDate]="viewDate"
                          [events]="events"
                          [refresh]="refresh"
                          (eventClicked)="handleEvent('Clicked', $event.event)"
                          (eventTimesChanged)="eventTimesChanged($event)">
                        </mwl-calendar-week-view>
                        <mwl-calendar-day-view
                          *ngSwitchCase="'day'"
                          [viewDate]="viewDate"
                          [events]="events"
                          [refresh]="refresh"
                          (eventClicked)="handleEvent('Clicked', $event.event)"
                          (eventTimesChanged)="eventTimesChanged($event)">
                        </mwl-calendar-day-view>
                      </div>
                      
                      
                      
                      
                      <ng-template #content let-c="close" let-d="dismiss">
                        <div class="modal-header">
                          <h6 class="modal-title" id="modal-basic-title">Book by day</h6>
                          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          {{ bookprice.value | json}}
                          <form [formGroup]="bookprice">
                            <small class="text-info">Booking Price on : {{bookprice.get('day').value | date}}</small>
                               
                            <div class="form-group">
                              <div class="input-group">
                                <div class="input-group-append">
                                  <label for="basic-url">Price/day</label>
                                    <div class="input-group mb-3">
                                      <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                      </div>
                                      <input type="number" class="form-control" placeholder="Price/hour" formControlName="price_day" aria-label="Username" aria-describedby="basic-addon1">
                                  </div>
                      
                      
                                  <label for="basic-url">Price/hour</label>
                                    <div class="input-group mb-3">
                                      <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                      </div>
                                      <input type="number" class="form-control" placeholder="Price/hour" formControlName="price_hour"  aria-label="Username" aria-describedby="basic-addon1">
                                  </div>
                      
                                  <button class="btn btn-outline-secondary" (click)="dp.toggle()" type="button">
                                    <img src="img/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark" (click)="bookSlot() ; c('Save click')">Save</button>
                        </div>
                      </ng-template>
                       
                 
                </div>
              </div>
            </ng-template>
          </ngb-tab>
      </ngb-tabset>
   </div>
  </div>
</div>